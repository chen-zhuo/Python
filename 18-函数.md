# 函数

### 认识函数

##### 定义

函数就是对**实现特定功能的代码块**的**封装**

##### 作用

将功能封装在函数中，使用功能的时候，直接调用函数，不必重写，提高代码使用效率。

##### 格式

```
def 函数名(形参列表):
    '''函数说明'''
    函数体
```

def：**声明函数的关键字**

函数名：函数名称，最好见名知义。（命名规范参照PEP8）

（）：**固定格式，必须有**
形参列表：参数名1，参数名2，参数名3...，**接收从外部传到函数内部的数据。（若没有要接受的数据，则不需要列表）**。

函数说明：对函数的功能和参数以及返回值进行说明

函数体：**实现函数功能的代码块**

### 调用函数

**函数只有在调用的时候才会执行，一个函数可以调用多次。**

##### 调用格式

```
函数名(实参列表)
```

函数名：调用的函数必须是**已经声明过的**，而且是**先声明后调用**
实参列表：**实参是用来给形参赋值的，而且一定要保证每个形参都有值（若没有形参，实参也可以没有）**

##### 调用过程

1. 回到函数声明的地方
2. 使用实参给形参赋值
3. 执行函数体
4. 函数体执行完成后，回到函数调用的位置。

##### 简单调用

```
def han1():
    print('开始学习函数')

han1()
han1()

输出：
开始学习函数
开始学习函数
# 注释：函数调用一定要写在函数声明后面
```

### 嵌套

##### 嵌套调用

**在函数A内部调用函数B，执行函数A的时候就会执行函数B**

```
def han():
    print('函数A')

def han1():
    han()		# 在han1()内部调用han()
    print('函数B')

han1()

输出：
函数A
函数B
```

##### 嵌套函数

**函数内部是可以声明函数的，这样的函数称为嵌套函数。**

```
def han():
    print('开始学习函数')
    def han1():
        print('休息一下')
```

**注意：调用外部函数时，内部函数不会执行，只在外部函数里面调用内部函数才会执行。**

```
def han():
    print('开始学习函数')
    def han1():
        print('休息一下')
    han1()				# 外部函数han()内，调用内部函数han1()

han()

输出：
开始学习函数
休息一下
```

##### 理解调用

​	函数和变量是一样的，都是“一个名字对应内存地址中的一些内容” 根据这样的原则，我们就可以理解两个事情：

**test1表示的是函数的内存地址**

**test1()就是调用对在test1这个地址的内容，即函数**

**函数只能调用和它同级别以及上级的变量或函数。也就是说：里面的能调用和它缩进一样的和他外部的，而内部的是无法调用的。**

### 参数传递

**参数的作用：从函数的外面给函数传值**

##### 位置参数

指传参的时候，实参按**位置顺序**给形参赋值

    def func1(a, b, c):
        print('a=' + str(a))
        print('b=' + str(b))
        print('c=' + str(c))
    
    func1(10, 20, 30)
    
    输出：
    a=10
    b=20
    c=30

##### 关键字参数

指传参的时候按照**参数的名称**进行传递

格式：**函数名（参数=值）**

```
def func1(a, b, c):
    print('a=' + str(a))
    print('b=' + str(b))
    print('c=' + str(c))

func1(b=20, a=10, c=30)

输出：
a=10
b=20
c=30
```

**注意：位置参数和关键字参数可以混合使用**

##### 默认参数

指函数声明的时候，参数可以设置默认值。

**注意：有默认值的参数必须放在所有没有默认值的参数后面。**

**注意：函数中有默认值的参数时，可以传参也可以不传参，如果有传参，以传参数据为准。**

```
def func11(a, b='cc', c='bb', d='a'):
    print(a, b, c, d)

func11(10,d='100')

输出：
10 cc bb 100
```

##### 不定参数

**形参*args**

函数实参的个数不确定，**就在形参的前面加一个*，将形参变成元祖**。

*args：**表示的就是将实参中按照位置传值，多出来的值都给args，且以元祖的方式呈现**。

```
def foo(x,*args):
    print(x)		# 1
    print(args)		# (2, 3, 4, 5)

# 其中的2,3,4,5都给了args
foo(1,2,3,4,5)
```

```
def foo(x, y=1, *args):
    print(x)		# 1
    print(y)		# 2
    print(args)		# (3, 4, 5)

# 其中的x为1，y=1的值被2重置了，3,4,5都给了args
foo(1,2,3,4,5)
```

**注意：不定参数，也可以不存在，对应的参数的值就是一个空的元祖**

```
def func1(char,*numbers):
    print(char, type(char))	        # a <class 'str'>
    print(numbers, type(numbers))	# () <class 'tuple'>

func1('a')
```

**形参\**kwargs**

\**kwargs：**表示的就是形参中按照关键字传值把多余的传值以字典的方式呈现**

```
def foo(x,**kwargs):
    print(x)			# 1
    print(kwargs)		# {'y': 1, 'a': 2, 'b': 3, 'c': 4}

#将y=1,a=2,b=3,c=4以字典的方式给了kwargs    
foo(1,y=1,a=2,b=3,c=4)
```

##### 参数位置

**注意：位置参数、默认参数、*args、\*\*kwargs混用时，四者的顺序必须是位置参数、默认参数、\*args、\*\*kwargs，不然就会报错。**

```
下面哪些声明函数是非法的？
def func(a, b=2, *arg): 		(正确)
def func(a=1, b=2, **kwargs, *arg): 	(顺序错误)
def func(a, b=2, c): 		        (顺序错误)
def func(a, b, c: int=3): 	        (正确，相当于 def func(a, b, c=3):)
```

正确事例：

```
def foo(x,*args,**kwargs):
    print(x)		# 1
    print(args)		# (2, 3, 4)
    print(kwargs)	# {'y': 1, 'a': 2, 'b': 3, 'c': 4}
    
foo(1,2,3,4,y=1,a=2,b=3,c=4)
# 将1传给了x，将2,3,4以元组方式传给了args，y=1,a=2,b=3,c=4以字典的方式给了kwargs
```

错误事例：

```
def foo(x,**kwargs,*args):
    print(x)
    print(args)
    print(kwargs)
    
foo(1,y=1,a=2,b=3,c=4,2,3,4)
# 报错，参数顺序错误
```

正确事例：

```
def foo(x,y=1,**kwargs):
    print(x)		# 1
    print(y)		# 1
    print(kwargs)	# {'a': 2, 'b': 3, 'c': 4}


foo(1,a=2,b=3,c=4)
#将1按照位置传值给x，y按照默认参数为1，a=2,b=3,c=4以字典的方式给了kwargs
```
