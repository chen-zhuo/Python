# 特殊函数、异常处理、全概念

变量指向函数的过程中，函数名不要带括号；变量赋值返回值的过程中，函数名要带括号。

##### 编程方式

**面向过程编程**：通过一步一步的写代码来实现功能的方式 -->工具：逻辑和算法

**函数式编程**：面对问题考虑有没有存在某种功能的函数 --->工具:函数

**面向对象编程**：面对问题考虑有没有相应的对象来解决这个问题 --> 工具：类和对象

### 变量、函数、方法、类

### 函数与方法



##### 变量与函数

其实**变量名和函数名**很相似，**就是一个名字对应内存地址中的一些内容**，这样我们就可以理解两个事情：

1. `func` 表示的是函数名，实质是函数的**内存地址**。
2. `func()` 表示的是调用 `func` 函数，实质是**调用 `func` 函数内存地址里面的内容**。

**变量指向函数**：即 `变量名=函数名`，指变量被赋值为**函数的地址**。

```python
def func(a,b):
    print(a+b)

a = func        # a被赋值为函数地址
a(5,3)          # a()就等于func()，a(5,3)就等于func(5,3)

'''
输出：
8
'''
```

**变量赋值返回值**：即 `变量=函数`，指变量被赋值为**函数的返回值**。

1. **在变量赋值为函数的返回值过程中，函数会先被调用一次**。
2. 变量被赋值为函数的返回值后，变量存储的就是函数的返回值。

```python
def func1():
    print(1)
    return 100

a = func1()  # 先调用一次函数，输出1，再将返回值100赋值给了变量a
print(a)     # 等于print(func1())，输出函数函数func1返回值
'''
输出：
1
100
'''
```

##### 

### 匿名函数lambda

##### 定义

匿名函数：本质还是函数，以另外一种简单的方式来声明的

##### 关键字lambda

lambda：声明匿名函数

##### 匿名函数格式

函数名 = lambda 参数列表：返回值（**不需要return**）

##### 使用方法

普通函数

```
def my_sum1(x,y):
    return x+y

print(my_sum1(10, 20))			# 30
```

匿名函数

```
my_sum2 = lambda x, y: x+y

print(my_sum2(10, 20))			# 30
```

### 递归函数

##### 定义

在**函数中调用函数本身**的函数称为**递归函数**。

##### 效率

递归效率低下，每调用一次函数，系统都要为其分配内存空间

循环能做的事情，虽然递归函数也可以做，但**尽量不使用递归**。

##### 递归函数

```
def fun1():
    print('===')
    fun1()

fun1()	# 输出多个===后，出现递归错误：调用python对象超过了最大递归深度
```

# 异常捕获

##### 含义解释

执行一个打开文件的操作代码，若文件存在，代码能正常运行，若文件不存在，代码就会崩溃。**为了让代码不崩溃，就需要一个异常捕获的处理，让代码更加健壮。**

##### 关键字try

try：尝试

##### 关键字except

except：期望

##### 关键字finall

finall：最终

##### 关键字raise

raise：表示抛出异常

```
def ThorwErr():
    raise Exception("抛出一个异常")  
ThorwErr()

报错：
Exception: 抛出一个异常
```

### 三种格式

##### try-except

```
try:
    代码1
except:
    代码2
    
流程1：执行代码1——>没有错误——>程序结束
流程2：执行代码1——>出现错误——>执行代码2——>程序结束
```

**注意：这里只要代码1出现错误，不管是什么类型的错误，都会执行代码2。**

##### try-except 类型

```
try:
    代码1
except 错误类型:  # 指定错误的类型
    代码2
    
流程1：执行代码1——>没有错误——>程序结束
流程2：执行代码1——>出现错误——>错误类型不一样——>程序结束
流程3：执行代码1——>出现错误——>错误类型一样——>执行代码2——>程序结束
```

**注意：同时捕获多个类型的异常：except（错误类型1，错误类型2...）。**

##### try-except-finall

```
try:
    代码1
except:
    代码2
finall：
    代码3

流程：不管代码块1中是否出现异常都会执行代码3
```

### 使用例子

##### 文件存在

```
try:
    with open('./aaa.txt')as ff:
        print('打开成功')
except FileNotFoundError:
    print('文件不存在')
    
输出：
打开成功
```

##### 键错误

```
try:
    open('./aaa.txt')
    print({'a': 'b', 'b': 1}['c'])
except KeyError:
    print('键错误')
finally:
    print('异常捕获结束后')
    
输出：
键错误
异常捕获结束后
```

