# 异常捕获

##### 含义解释

执行一个打开文件的操作代码，若文件存在，代码能正常运行，若文件不存在，代码就会崩溃。**为了让代码不崩溃，就需要一个异常捕获的处理，让代码更加健壮。**

##### 关键字try

try：尝试

##### 关键字except

except：期望

##### 关键字finall

finall：最终

##### 关键字raise

raise：表示抛出异常

```
def ThorwErr():
    raise Exception("抛出一个异常")  
ThorwErr()

报错：
Exception: 抛出一个异常
```

### 三种格式

##### try-except

```
try:
    代码1
except:
    代码2
    
流程1：执行代码1——>没有错误——>程序结束
流程2：执行代码1——>出现错误——>执行代码2——>程序结束
```

**注意：这里只要代码1出现错误，不管是什么类型的错误，都会执行代码2。**

##### try-except 类型

```
try:
    代码1
except 错误类型:  # 指定错误的类型
    代码2
    
流程1：执行代码1——>没有错误——>程序结束
流程2：执行代码1——>出现错误——>错误类型不一样——>程序结束
流程3：执行代码1——>出现错误——>错误类型一样——>执行代码2——>程序结束
```

**注意：同时捕获多个类型的异常：except（错误类型1，错误类型2...）。**

##### try-except-finall

```
try:
    代码1
except:
    代码2
finall：
    代码3

流程：不管代码块1中是否出现异常都会执行代码3
```

### 使用例子

##### 文件存在

```
try:
    with open('./aaa.txt')as ff:
        print('打开成功')
except FileNotFoundError:
    print('文件不存在')
    
输出：
打开成功
```

##### 键错误

```
try:
    open('./aaa.txt')
    print({'a': 'b', 'b': 1}['c'])
except KeyError:
    print('键错误')
finally:
    print('异常捕获结束后')
    
输出：
键错误
异常捕获结束后
```

